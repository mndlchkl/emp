
 <div class="parallax-container">
    <div class="parallax"><img src="images/parallax1.jpg"></div>
    <h2 class="header" style="color:white;text-align: center;padding-top: 20%">Postulación</h2>
</div> 

  
 
<div class="container">
    <div class="section">
        <div class="row">
            <div class="col s12">
               <!--   
                <br>
        <br>
            <h4 class="header center black-text">
                Postulación
            </h4>-->
            <br>
            <h5 class="header black-text">
              &nbsp &nbsp  Datos de contacto
            </h5>
        </br>
        <div class="row">
            <form action="/" id="postForm">
                <div class="row">
                    <div class="input-field col s6">
                        <input required class="validate" name="first_name" id="first_name" type="text">
                            <label for="first_name">
                                Nombre
                            </label>
                        </input>
                    </div>
                    <div class="input-field col s6">
                        <input required class="validate" id="last_name" name="last_name" type="text">
                            <label for="last_name">
                                Apellido
                            </label>
                        </input>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <input required class="validate" id="email" name="email" type="email">
                            <label data-error="mal ahi" data-success="" for="email">
                                Correo
                            </label>
                        </input>
                    </div>
                    <div class="input-field col s6">
                        <input required class="validate" id="phone" name="phone" type="number">
                            <label for="phone">
                                Teléfono
                            </label>
                        </input>
                    </div>
                </div>
                  <div class="row">
                        <div class="input-field col s6">
                        <input   oninput="checkRut(this) " required class="validate" id="rut" name="rut" type="text"  >
                            <label   for="rut">
                                Rut 
                            </label>
                        </input>
                      </div>  
                  </div>
                <h5 class="header black-text">
                   &nbsp &nbsp Cuentanos acerca de
                    <br>
                    <br>
                </h5>
                <div class="row">
                    <div class="input-field col s12 ">
                        <!--  <i class="material-icons prefix"></i> -->
                        <input required class="validate" id="project_name" name="project_name" type="text">
                            <label for="project_name">
                                Nombre del proyecto musical
                            </label>
                        </input>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 ">
                        <label for="experience">
                            Experiencia (1500 caracteres max). <span id="experience_count"></span>
                        </label>
                        <textarea required form="postForm" class="materialize-textarea" id="experience" name="experience">
                        </textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 ">
                        <label for="motivations">
                            Motivaciones de participar (1500 caracteres max). <span id="motivations_count"></span>
                             
                        </label>
                        <textarea required  form="postForm" class="materialize-textarea" data-length="14" id="motivations" name="motivations">
                        </textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 ">
                        <!--  <i class="material-icons prefix"></i> -->
                        <input required name="music_link" class="validate" id="music_link" type="tel">
                            <label for="music_link">
                                Comparte un link de tu trabajo musical
                            </label>
                        </input>
                    </div>
                </div>
                <input class="waves-effect waves-light btn mar-big" id="postular" type="submit">
                </input>
            </form>
            <span>
            </span>
        </div>
    </br>

            </div>
        </div>
    </div>
</div>

<!--  <div class="col s12">
                    This is an inline input field:
                    <div class="input-field inline">
                        <input class="validate" id="email" type="email">
                            <label data-error="wrong" data-success="right" for="email">
                                Email
                            </label>
                        </input>
                    </div>
                </div> -->
<!-- <div class="parallax">
        <img alt="Unsplashed background img 2" src="images/3dsoulwave.gif"/>
    </div> -->
<script>
    $(document).ready(function(){
$('.parallax').parallax();
$('#experience').keyup(function () {
  var max = 1500;
  var len = $(this).val().length;
  if (len >= max) {
    $('#experience_count').text(' alcanzaste el máximo de caracteres');
  } else {
    var char = max - len;
    $('#experience_count').text(' quedan '+char + ' caracteres');
  }
});

$('#motivations').keyup(function () {
  var max = 1500;
  var len = $(this).val().length;
  if (len >= max) {
    $('#motivations_count').text(' alcanzaste el máximo de caracteres');
  } else {
    var char = max - len;
    $('#motivations_count').text(' quedan '+char + ' caracteres');
  }
});

 $('#motivations').val('');
  $('#experience').val('');
var request;

$( 'form' ).submit(function( event ) {
    event.preventDefault();
    if (request) {
        request.abort();
    }
    var $form = $(this);
    var $inputs = $form.find("input, select, button, textarea");
    var serializedData = $form.serialize();
    $inputs.prop("disabled", true);
    //$( "span" ).text( "Not valid!" ).show().fadeOut( 1000 );
         request = $.ajax({
              url: "endpoints/postular.php",
              type: "post",
              data: serializedData,
              
            });
            request.done(function( msg ) {

             alert( msg );
            });      
            request.fail(function( jqXHR, textStatus, errorThrown ) {
              alert( "Request failed: " + textStatus + errorThrown );
            });
             request.always(function () {
                $inputs.prop("disabled", false);
            });
 
    });
 
  $('#textarea1').trigger('autoresize');
});

</script>
<!--  

<style type="text/css">
    .parallax-container {
  height: 1000px;
}
.mar-small {
  margin-top: 20px;
}

.header{

font-family: 'Montserrat', sans-serif;
 
}
</style>
-->